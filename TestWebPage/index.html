<!DOCTYPE html>


<html lang="vi">

<head>
    <meta charset="UTF-8">
    
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <script defer src="https://pro.fontawesome.com/releases/v5.10.0/js/all.js" integrity="sha384-G/ZR3ntz68JZrH4pfPJyRbjW+c0+ojii5f+GYiYwldYU69A+Ejat6yIfLSxljXxD" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <link href="https://fonts.googleapis.com/css2?family=Lato&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="pageclip.js" charset="utf-8"></script>
    <link rel="stylesheet" href="pageclip.css" media="screen">
    <!-- Title -->
    <script src="script.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>

    <script>
    let summarydata=0
    let ProfilePerPage=5;
    
    function searchFunction() {
    // Declare variables
    var input, filter, ul, a, i, txtValue;
    input = document.getElementById('myInput');
    filter = input.value.toUpperCase();
    ul = document.getElementsByClassName("zoom item");
  
  
    // Loop through all list items, and hide those who don't match the search query
    for (i = 0; i <ul.length; i++) {
      a = ul[i].getElementsByTagName('span')[0];
     
      txtValue = a.textContent || a.innerText;
      if (txtValue.toUpperCase().indexOf(filter) > -1) {
        ul[i].style.display = "";
      } else {
        ul[i].style.display = "none";
      }
    }
  }
        $(function() {
    
    
       var people = [];
        let count=0;
       $.getJSON('data.json', function(data) {
           $.each(data.person, function(i, f) {

              var display_image="<div class ='zoom item col ' id='people"+count.toString()+"'> <img class='profile-picture pic-nonactive'"+"id='image"+count.toString()+"'"+" src= '"+f.image+"' width=150 height=100>"
              +"<span> "+f.firstName+" "+f.lastName+ "</span> </div> "
              var display_info= "<div class ='info-nonactive'id='info"+count.toString()+"'><ul class='info-display caption'> "+"<li><p>"+f.firstName+" "+f.lastName+"</p></li>"+ "<li> <p>"  + f.job + "</li> </p>" +"<li> <p> " + f.roll + "</li> </p>" + " </ul></div>"
               $(display_image).appendTo("#userimg");
                $(display_info).appendTo("#user-info-display")
               count=count+1;
               summarydata=summarydata+1;
               
         });  
    
       });
       
    });
    
   
    window.onload=function()
    {
      $.getJSON('data.json', function(data) {
           $.each(data.person, function(i, f) {
               summarydata=summarydata+1;
               
         });  
    
       });
       var numberOfPage=Math.floor(summarydata/ProfilePerPage);
        var pageline=" <a id='pagepinleft' href='#' >&laquo;</a>"
        for(var page=0;page<=numberOfPage;page++)
        {
            pageline=pageline+" <a "+ "id='thepage"+(page+1).toString()+"' class='pagebutton-hidden' href='#'>"+(page+1).toString()+"</a>"
        }
        pageline=pageline+"<a id='pagepinright' href='#' >&raquo;</a>"
        $(pageline).appendTo("#pagechange")
    };
    let thepage=2;
    
            // document.getElementById('pagepinright').addEventListener("click", function(event) {
            //     if(thepage+1<numberOfPage)
            //     {
            //       thepage=thepage+1;
            //     }
            //     event.preventDefault();
            // });
            // document.getElementById('pagepinleft').addEventListener("click", function(event) {
            //     if(thepage-1>0)
            //     {
            //       thepage=thepage-1;
            //     }
            //     event.preventDefault();
            // });
          
           setInterval(function()
            {
              var numberOfPage=Math.floor(summarydata/ProfilePerPage);

for (var page=1;page<numberOfPage+1;page++) 
{

    if(page==thepage ||page==thepage+1 || page==thepage-1)
   {
     $('#thepage'+page.toString()).removeClass("pagebutton-hidden")
     $('#thepage'+page.toString()).addClass("pagebutton-show")
     if(page == thepage)
     {
       $('#thepage'+page.toString()).addClass("active");
     }
     else{
       
    
       if( document.getElementById('thepage'+page.toString())!=null)
        {
          
        document.getElementById('thepage'+page.toString()).addEventListener("click", function(event) {
           console.log($('#thepage'+page.toString()).text)
           
          
       });
    
     }
       $('#thepage'+page.toString()).removeClass("active");
     }
   }
   else{
     $('#thepage'+page.toString()).addClass("pagebutton-hidden")
     $('#thepage'+page.toString()).removeClass("pagebutton-show")
     $('#thepage'+page.toString()).removeClass("active");
   }

}
for (var itemshow=0;itemshow<summarydata;itemshow++) 
{
   if(itemshow>=(thepage-1)*ProfilePerPage && itemshow<thepage*ProfilePerPage)
   {
     $('#people'+itemshow.toString()).removeClass("hide-item");
   }
   else{
     $('#people'+itemshow.toString()).addClass("hide-item");
   }

}

            }
            ,200)
      
    setInterval(
    function() {
      
   
    var people = [];
     let count=0;
   
    
    $.getJSON('data.json', function(data) {
        $.each(data.person, function(i, f) {
              
           
               var check_hover="#image"+count.toString();
               var Id_check="#info"+count.toString();
               if($(check_hover).is(":hover") === true) 
               {
                $(Id_check).removeClass("info-nonactive");
                  $(Id_check).addClass("info-active");
                  var elementID=document.getElementById("image"+count.toString())
                
                  if(elementID!=null)
                 {
                  let width = screen.width;
                  var bodyRect = document.body.getBoundingClientRect()
                    var picpositionLeft=elementID.getBoundingClientRect().left - bodyRect.left
                    var picpositionTop=elementID.getBoundingClientRect().top - bodyRect.top
                    var picpositionRight=elementID.getBoundingClientRect().right - bodyRect.right
                   
                    if(picpositionLeft+200+300<width)
                    {
                  document.getElementById("info"+count.toString()).style.left=picpositionLeft+200+"px";
                    }
                    else{
                      document.getElementById("info"+count.toString()).style.left=picpositionLeft-310+"px";
                    }
                  document.getElementById("info"+count.toString()).style.top=picpositionTop+'px';
                 }
               }
               else{
                $(Id_check).removeClass("info-active");
                $(Id_check).addClass("info-nonactive");
            
                 
               }
        
               count=count+1;
      });  
 
    });
 
 },200);
     
    </script>
</head>
<body>
  
  <div class="row" >
      <div id="searchbar" class="col"  >

        <input type="text" id="myInput" onkeyup="searchFunction()" placeholder="Search for names.." >
      </div>
  </div>

  <div id="contestant" class="row">
     <div class="container-fluid" >
        <div id="userimg" >
      
        </div>
      
    </div>
  </div>
  <div class="container-fluid" >
    <div id="user-info-display" >
  
    </div>
  
</div>
    <!--
    <h1> Đây là cái web test submit nhưng k redirect</h1> 
    <form action="https://send.pageclip.co/flitMoFPczR7e8GBlaXvIxvTNaMQjuMS/form" onsubmit="document.querySelector('[data-btn]').classList.add('animating') ; " class="pageclip-form" method="post">
        <fieldset id="fs-frm-inputs">
          <label for="email-address">Địa chỉ Email</label>
          <input type="email" name="_replyto" id="email-address" placeholder="email@domain.tld" required="">
          <label for="Student-ID">Mã số sinh viên</label>
          <input type="text" name="StudentID" placeholder="Mã số sinh viên" required=""> 
          <fieldset class="choice">
            <legend>Lựa Chọn của bạn</legend>
           
            <select name="state" required="">
              <option value="" selected="" disabled="">Chọn</option>
                <option value="AL">Alabama</option>
                <option value="AK">Alaska</option>
                <option value="AZ">Arizona</option>
                <option value="AR">Arkansas</option>
                <option value="CA">California</option>
                <option value="CO">Colorado</option>
                <option value="CT">Connecticut</option>
                <option value="DE">Delaware</option>
                <option value="DC">District Of Columbia</option>
                <option value="FL">Florida</option>
                <option value="GA">Georgia</option>
                <option value="HI">Hawaii</option>
                <option value="ID">Idaho</option>
                <option value="IL">Illinois</option>
                <option value="IN">Indiana</option>
                <option value="IA">Iowa</option>
                <option value="KS">Kansas</option>
                <option value="KY">Kentucky</option>
                <option value="LA">Louisiana</option>
                <option value="ME">Maine</option>
                <option value="MD">Maryland</option>
                <option value="MA">Massachusetts</option>
                <option value="MI">Michigan</option>
                <option value="MN">Minnesota</option>
                <option value="MS">Mississippi</option>
                <option value="MO">Missouri</option>
                <option value="MT">Montana</option>
                <option value="NE">Nebraska</option>
                <option value="NV">Nevada</option>
                <option value="NH">New Hampshire</option>
                <option value="NJ">New Jersey</option>
                <option value="NM">New Mexico</option>
                <option value="NY">New York</option>
                <option value="NC">North Carolina</option>
                <option value="ND">North Dakota</option>
                <option value="OH">Ohio</option>
                <option value="OK">Oklahoma</option>
                <option value="OR">Oregon</option>
                <option value="PA">Pennsylvania</option>
                <option value="RI">Rhode Island</option>
                <option value="SC">South Carolina</option>
                <option value="SD">South Dakota</option>
                <option value="TN">Tennessee</option>
                <option value="TX">Texas</option>
                <option value="UT">Utah</option>
                <option value="VT">Vermont</option>
                <option value="VA">Virginia</option>
                <option value="WA">Washington</option>
                <option value="WV">West Virginia</option>
                <option value="WI">Wisconsin</option>
                <option value="WY">Wyoming</option>
            </select>
         
          
            
            <button type="submit" class="btn pageclip-form__submit" data-btn>
                 <div class="checkmark-container">
                    <svg x="0px" y="0px" fill="none" class="checkmark-svg" viewBox="0 0 25 30">
                        <path d="M2,19.2C5.9,23.6,9.4,28,9.4,28L23,2"/> 
                    </svg>
                </div>
              </button>
            
            
        
      </form>
  -->
  
  <div id="pagechange"   class="pagination row">
   
    
  </div>
  
       
  
</body>
<footer>
  <div class="dark-footer">

  </div>
</footer>

</html>